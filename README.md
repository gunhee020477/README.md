# ğŸŒ í•´ì™¸ì—¬í–‰ ë°ì´í„° ë¶„ì„ ì‹œìŠ¤í…œ (Travel Data Analysis System)

ë³¸ í”„ë¡œì íŠ¸ëŠ” êµ­ë¯¼ í•´ì™¸ì—¬í–‰ ë°ì´í„°ì™€ êµ­ê°€ë³„ SNS í™œìš© ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ  
í•´ì™¸ì—¬í–‰ íŠ¸ë Œë“œ, êµ­ê°€ ì„ í˜¸ë„, SNS ì˜í–¥ë ¥ ë“±ì„ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.  
Streamlitì„ í™œìš©í•´ ì‹œê°ì  ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ì—¬ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ í•´ì™¸ì—¬í–‰ ë°ì´í„°ë¥¼ íƒìƒ‰í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ“Œ í”„ë¡œì íŠ¸ ì†Œê°œ

ì´ í”„ë¡œì íŠ¸ëŠ” **í•œêµ­ê´€ê´‘ê³µì‚¬ í†µê³„ ë°ì´í„°**ë¥¼ í™œìš©í•˜ì—¬  
- í•´ì™¸ì—¬í–‰ì ìˆ˜ ë³€í™”  
- êµ­ê°€ë³„ SNS í™œìš©ë„  
- ì—°ë ¹ëŒ€Â·ì„±ë³„ ê¸°ë°˜ ì¶”ì²œ êµ­ê°€  
- ì„¸ê³„ ì§€ë„ ê¸°ë°˜ ë°ì´í„° ì‹œê°í™”  

ë“±ì„ ì œê³µí•©ë‹ˆë‹¤.

ë˜í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í˜•íƒœë¡œ Streamlitì„ ë°°í¬í•˜ì—¬  
ì‚¬ìš©ìê°€ êµ­ê°€ ê²€ìƒ‰, ì¶”ì²œ êµ­ê°€ í™•ì¸, ëŒ€ì‹œë³´ë“œ ì‹œê°í™”ë¥¼ ì‰½ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ¥ ì‹œì—° ì˜ìƒ

ğŸ‘‰ **YouTube ì‹œì—° ì˜ìƒ**  
https://youtube.com

---

## ğŸŒ Streamlit ë°°í¬ ì£¼ì†Œ (ì›¹ ì„œë¹„ìŠ¤)

ğŸ‘‰ **https://your-streamlit-url.streamlit.app**  
(ë°°í¬ëœ URLë¡œ êµì²´í•˜ì„¸ìš”!)

---

## ğŸ‘¥ íŒ€ì› ì†Œê°œ

| ì´ë¦„ | ì—­í•  |
|------|---------------------------|
| ì°¨ì€ìš° | ë°ì´í„° ìˆ˜ì§‘ ë° ì „ì²˜ë¦¬, ì‹œê°í™” |
| ë³€ìš°ì„ | ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜, Streamlit UI ê°œë°œ |
| íŒ€ì›A | í†µê³„ ë¶„ì„, ë³´ê³ ì„œ ì‘ì„± |
| íŒ€ì›B | UX/UI ê¸°íš ë° ë°œí‘œ ìë£Œ ì œì‘ |

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

# ğŸ§  ê¸°ìˆ  ìŠ¤íƒ

- **Python**
  - Pandas, Numpy
  - Matplotlib, Seaborn
  - Plotly
- **Streamlit**
- **GitHub**
- **CSV ê¸°ë°˜ ë°ì´í„° ë¶„ì„**

---

# ğŸ–¥ï¸ Streamlit ì£¼ìš” ê¸°ëŠ¥

### âœ” 1) ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°  
- í•´ì™¸ì—¬í–‰ì ì—°ë„ë³„ ë°ì´í„°  
- êµ­ê°€ë³„ SNS í™œìš© ë°ì´í„°  

### âœ” 2) êµ­ê°€ ê²€ìƒ‰  
- êµ­ê°€ëª… ê²€ìƒ‰  
- SNS í™œìš©ë„ ì°¨íŠ¸ ì œê³µ (Bar/Line Chart)

### âœ” 3) ì„¸ê³„ ì§€ë„ ì‹œê°í™”  
- Plotly Choroplethë¡œ êµ­ê°€ë³„ SNS ì´ì  í‘œì‹œ

### âœ” 4) êµ­ê°€ ì¶”ì²œ ê¸°ëŠ¥  
- ì—°ë ¹ëŒ€ & ì„±ë³„ ê¸°ë°˜ ì¶”ì²œ  
- ì¶”ì²œ ì ìˆ˜ ê°€ì¤‘ì¹˜ ì ìš©  
- TOP 5 êµ­ê°€ ì œê³µ

---

# ğŸ“Œ Streamlit ì „ì²´ ì½”ë“œ

ì•„ë˜ëŠ” ë³¸ í”„ë¡œì íŠ¸ì˜ ì „ì²´ ì½”ë“œì…ë‹ˆë‹¤.

```python
import os
import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import plotly.express as px

# ---------------------------------------------------
# ê¸°ë³¸ ì„¤ì •
# ---------------------------------------------------
st.set_page_config(page_title="í•´ì™¸ì—¬í–‰ ë¶„ì„ ì‹œìŠ¤í…œ", layout="wide")

st.title("ğŸŒ í•´ì™¸ì—¬í–‰ ë°ì´í„° ë¶„ì„ ì‹œìŠ¤í…œ ")
st.write("ì‚¬ì´ë“œë°” ë©”ë‰´ë¥¼ ì´ìš©í•´ ë¶„ì„ ê¸°ëŠ¥ì„ ì„ íƒí•˜ì„¸ìš”.")

# ---------------------------------------------------
# íŒŒì¼ ê²½ë¡œ ìë™ ì„¤ì •
# ---------------------------------------------------
BASE_PATH = os.path.dirname(__file__)

FILE1 = os.path.join(BASE_PATH, "í•œêµ­ê´€ê´‘ê³µì‚¬_êµ­ë¯¼ í•´ì™¸ê´€ê´‘ê° ì—°ë„ë³„ ìƒì„¸ ì§‘ê³„.csv")
FILE2 = os.path.join(BASE_PATH, "í•œêµ­ê´€ê´‘ê³µì‚¬_êµ­ê°€ë³„ í•´ì™¸ì—¬í–‰ í™œìš© SNS ë° ë™ì˜ìƒí”Œë«í¼_20250915.csv")

@st.cache_data
def load_files():
    if not os.path.exists(FILE1):
        return None, None, f"âŒ íŒŒì¼ ì—†ìŒ: {FILE1}"
    if not os.path.exists(FILE2):
        return None, None, f"âŒ íŒŒì¼ ì—†ìŒ: {FILE2}"

    df1 = pd.read_csv(FILE1, encoding="cp949")
    df2 = pd.read_csv(FILE2, encoding="cp949")
    return df1, df2, None

df1, df2, error = load_files()

if error:
    st.error(error)
    st.stop()

# ---------------------------------------------------
# ì‚¬ì´ë“œë°” ë©”ë‰´
# ---------------------------------------------------
menu = st.sidebar.selectbox(
    "ğŸ“Œ ë©”ë‰´ ì„ íƒ",
    ["ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°", "êµ­ê°€ ê²€ìƒ‰", "ì„¸ê³„ ì§€ë„ ì‹œê°í™”", "êµ­ê°€ ì¶”ì²œ ê¸°ëŠ¥"]
)

# ---------------------------------------------------
# 1) ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°
# ---------------------------------------------------
if menu == "ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°":
    st.header("ğŸ“ ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°")

    tab1, tab2 = st.tabs(["êµ­ë¯¼ í•´ì™¸ê´€ê´‘ê°", "êµ­ê°€ë³„ SNS í™œìš©ë„"])

    with tab1:
        st.subheader("êµ­ë¯¼ í•´ì™¸ê´€ê´‘ê° ì—°ë„ë³„ ë°ì´í„°")
        st.dataframe(df1)

    with tab2:
        st.subheader("êµ­ê°€ë³„ SNS í™œìš© ë°ì´í„°")
        st.dataframe(df2)

# ---------------------------------------------------
# 2) êµ­ê°€ ê²€ìƒ‰ ê¸°ëŠ¥
# ---------------------------------------------------
elif menu == "êµ­ê°€ ê²€ìƒ‰":
    st.header("ğŸ” êµ­ê°€ ê²€ìƒ‰ ê¸°ëŠ¥")

    search_keyword = st.text_input("ê²€ìƒ‰í•  êµ­ê°€ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì¼ë³¸, ë¯¸êµ­, ë² íŠ¸ë‚¨)")

    if search_keyword:
        result = df2[df2["êµ­ê°€ëª…"].str.contains(search_keyword, case=False)]

        if len(result) == 0:
            st.warning("â— ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.")
        else:
            st.success(f"ğŸ” '{search_keyword}' ê²€ìƒ‰ ê²°ê³¼")
            st.dataframe(result)

            numeric_cols = result.select_dtypes(include="number").columns.tolist()
            numeric_cols = [col for col in numeric_cols if col not in ["ê¸°ì¤€ì—°ë„"]]

            st.subheader("ğŸ“Š SNS ë° í”Œë«í¼ í™œìš©ë„ ê·¸ë˜í”„")
            fig_bar = px.bar(
                result,
                x="êµ­ê°€ëª…",
                y=numeric_cols,
                barmode="group",
                title=f"{search_keyword} SNS ë° í”Œë«í¼ í™œìš©ë„"
            )
            st.plotly_chart(fig_bar, use_container_width=True)

            st.subheader("ğŸ“‰ ì—°ë„ë³„ ë³€í™” ì¶”ì„¸")
            fig_line = px.line(
                result,
                x="ê¸°ì¤€ì—°ë„",
                y=numeric_cols,
                title=f"{search_keyword} ì—°ë„ë³„ í”Œë«í¼ í™œìš© ë³€í™”"
            )
            st.plotly_chart(fig_line, use_container_width=True)

# ---------------------------------------------------
# 3) ì„¸ê³„ ì§€ë„ ì‹œê°í™”
# ---------------------------------------------------
elif menu == "ì„¸ê³„ ì§€ë„ ì‹œê°í™”":
    st.header("ğŸ—ºï¸ ì„¸ê³„ ì§€ë„ ê¸°ë°˜ SNS í™œìš©ë„")

    df2["SNSì´ì "] = df2.select_dtypes(include="number").sum(axis=1)

    fig_world = px.choropleth(
        df2,
        locations="êµ­ê°€ëª…",
        locationmode="country names",
        color="SNSì´ì ",
        hover_name="êµ­ê°€ëª…",
        title="êµ­ê°€ë³„ SNS í™œìš©ë„ ì§€ë„",
        color_continuous_scale="Blues"
    )
    st.plotly_chart(fig_world, use_container_width=True)

# ---------------------------------------------------
# 4) êµ­ê°€ ì¶”ì²œ ê¸°ëŠ¥
# ---------------------------------------------------
elif menu == "êµ­ê°€ ì¶”ì²œ ê¸°ëŠ¥":
    st.header("ğŸŒŸ ì—°ë ¹ëŒ€ Â· ì„±ë³„ ê¸°ë°˜ í•´ì™¸ì—¬í–‰ êµ­ê°€ ì¶”ì²œ")

    col1, col2 = st.columns(2)
    rec_gender = col1.selectbox("ì„±ë³„ ì„ íƒ", df1["ì„±ë³„"].unique())
    rec_age = col2.selectbox("ì—°ë ¹ëŒ€ ì„ íƒ", df1["ì—°ë ¹ëŒ€"].unique())

    df1["ì´í•´ì™¸ì¶œêµ­ììˆ˜"] = df1.select_dtypes(include="number").sum(axis=1)
    user_strength = df1[(df1["ì„±ë³„"] == rec_gender) & (df1["ì—°ë ¹ëŒ€"] == rec_age)]["ì´í•´ì™¸ì¶œêµ­ììˆ˜"].sum()

    df2["SNSì´ì "] = df2.select_dtypes(include="number").sum(axis=1)
    sns_weight = 0.5

    df2["ì¶”ì²œì ìˆ˜"] = df2["SNSì´ì "] * sns_weight + (user_strength / 10000)
    rec_top5 = df2.sort_values("ì¶”ì²œì ìˆ˜", ascending=False).head(5)

    st.subheader("ğŸ”¥ ì¶”ì²œ êµ­ê°€ TOP 5")
    st.table(rec_top5[["êµ­ê°€ëª…", "SNSì´ì ", "ì¶”ì²œì ìˆ˜"]])

    fig_rec = px.bar(
        rec_top5,
        x="êµ­ê°€ëª…",
        y="ì¶”ì²œì ìˆ˜",
        title="ì—°ë ¹ëŒ€Â·ì„±ë³„ ê¸°ë°˜ ì¶”ì²œ êµ­ê°€ TOP 5",
        color="êµ­ê°€ëª…"
    )
    st.plotly_chart(fig_rec, use_container_width=True)
